@page "/C_Produccion"
@inject ProductosBLL ProductosBLL
@inject ProduccionBLL ProduccionBLL
@inject NotificationService notificationService

<EditForm Model="productos"> 
 <DataAnnotationsValidator />
    <div class="card">

        <div class="card-header">
            <h4>Consulta de productos</h4>
        </div>
    </div>
    <div class="card-body">
        <button  type="button" @onclick="Buscar" class="btn btn-outline-primary"> <i class="oi oi-magnifying-glass" /> Buscar </button>
    </div>

    <table class="table table-striped table-hover mt-4" style="cursor: pointer;">

        <thead class="thead">
            <tr class="table">
                <th>ProductoId</th>
                <th>Descripcion</th>
                <th>Costo</th>
                <th>Precio</th>
                <th>Existencia</th>
            </tr>
        </thead>
        <tbody>

            @foreach (var producto in productos)
            {
                        <tr>
                         
                            <td>@producto.ProductoId</td>
                            <td>@producto.Descripcion</td>
                            <td>@producto.Costo </td>
                            <td>@producto.Precio </td>
                            <td>@producto.Existencia </td>
                            <td><a href="producto/@producto.ProductoId">Ver</a></td>
                        </tr>
            }

        </tbody>
    </table>
</EditForm>

@code {
    public List<Productos> productos { get; set; } = new List<Productos>();

    void Buscar()
    {
        productos = ProductosBLL.GetList(p => true);
    }
}